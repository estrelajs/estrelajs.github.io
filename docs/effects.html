<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Effects: React to Signal Changes | Estrela</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/favicon.ico">
    <meta name="description" content="Full Reactive Framework.">
    <meta name="theme-color" content="#009DFF">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    
    <link rel="preload" href="/assets/css/0.styles.e9073301.css" as="style"><link rel="preload" href="/assets/js/app.69cdb334.js" as="script"><link rel="preload" href="/assets/js/2.48f07087.js" as="script"><link rel="preload" href="/assets/js/13.1c6c967c.js" as="script"><link rel="prefetch" href="/assets/js/10.f42d81ea.js"><link rel="prefetch" href="/assets/js/11.9c7e2a1d.js"><link rel="prefetch" href="/assets/js/12.013b34de.js"><link rel="prefetch" href="/assets/js/14.39995c2f.js"><link rel="prefetch" href="/assets/js/15.521dff3c.js"><link rel="prefetch" href="/assets/js/16.226ace05.js"><link rel="prefetch" href="/assets/js/17.12d01a2c.js"><link rel="prefetch" href="/assets/js/18.ab6c6ed1.js"><link rel="prefetch" href="/assets/js/19.cbeba451.js"><link rel="prefetch" href="/assets/js/3.42f21eab.js"><link rel="prefetch" href="/assets/js/4.db5c582d.js"><link rel="prefetch" href="/assets/js/5.46b2457c.js"><link rel="prefetch" href="/assets/js/6.d09d3afe.js"><link rel="prefetch" href="/assets/js/7.e4c5b4fc.js"><link rel="prefetch" href="/assets/js/8.632bc8a5.js"><link rel="prefetch" href="/assets/js/9.250e73e4.js">
    <link rel="stylesheet" href="/assets/css/0.styles.e9073301.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/logo.png" alt="Estrela" class="logo"> <span class="site-name can-hide">Estrela</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/docs/" class="nav-link router-link-active">
  Docs
</a></div><div class="nav-item"><a href="/api/" class="nav-link">
  Api
</a></div> <a href="https://github.com/estrelajs/estrela" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/docs/" class="nav-link router-link-active">
  Docs
</a></div><div class="nav-item"><a href="/api/" class="nav-link">
  Api
</a></div> <a href="https://github.com/estrelajs/estrela" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Docs</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/" aria-current="page" class="sidebar-link">Introduction</a></li><li><a href="/docs/get-started.html" class="sidebar-link">Get Started</a></li><li><a href="/docs/signals.html" class="sidebar-link">Signals: Reactivity Made Easy</a></li><li><a href="/docs/effects.html" aria-current="page" class="active sidebar-link">Effects: React to Signal Changes</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/effects.html#creating-an-effect" class="sidebar-link">Creating an Effect</a></li><li class="sidebar-sub-header"><a href="/docs/effects.html#stopping-an-effect" class="sidebar-link">Stopping an Effect</a></li><li class="sidebar-sub-header"><a href="/docs/effects.html#clean-up-on-effect-stop" class="sidebar-link">Clean-up on Effect Stop</a></li><li class="sidebar-sub-header"><a href="/docs/effects.html#untrack-a-signal" class="sidebar-link">Untrack a Signal</a></li></ul></li><li><a href="/docs/template.html" class="sidebar-link">Template: Express Yourself with JSX!</a></li><li><a href="/docs/component.html" class="sidebar-link">Components: Building Blocks of Your Web App!</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="effects-react-to-signal-changes"><a href="#effects-react-to-signal-changes" class="header-anchor">#</a> Effects: React to Signal Changes</h1> <p>In Estrela, effects are like magical listeners that reacts to changes in signals! They allow you to perform certain actions or tasks whenever the data in the signals you're interested in gets updated. üöÄ</p> <h2 id="creating-an-effect"><a href="#creating-an-effect" class="header-anchor">#</a> Creating an Effect</h2> <p>To set up an effect, simply invoke the <code>effect</code> function and provide it with your desired effect. Simple as pie! üç∞</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> signal<span class="token punctuation">,</span> effect <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'estrela'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> myCounter <span class="token operator">=</span> <span class="token function">signal</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">effect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">The counter value changed! Current value: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token function">myCounter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>In this example, we created an <code>effect</code> that listens to changes in the <code>myCounter</code> signal. Whenever <code>myCounter</code> changes, the effect function logs the updated value to the console.</p> <h2 id="stopping-an-effect"><a href="#stopping-an-effect" class="header-anchor">#</a> Stopping an Effect</h2> <p>Sometimes, you need to give your effects a break, right? üòâ No worries! The <code>effect</code> function returns a closing function that you can call to stop the effect from triggering.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> stopEffect <span class="token operator">=</span> <span class="token function">effect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// Effect function code here</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// To stop the effect, simply call the stopEffect function</span>
<span class="token function">stopEffect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>When you call <code>stopEffect()</code>, the effect will be silenced, and it won't be triggered anymore.</p> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>Effects declared within Estrela components get automatically stopped when the component is destroyed. No manual intervention needed! It keeps your code clean and hassle-free. üéâ</p></div> <h2 id="clean-up-on-effect-stop"><a href="#clean-up-on-effect-stop" class="header-anchor">#</a> Clean-up on Effect Stop</h2> <p>You know what's even cooler? If you return a function from within the effect function, it will be called when the effect is stopped. This gives you a chance to clean up any code or resources you no longer need. üßπ</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> myEffectWithCleanUp <span class="token operator">=</span> <span class="token function">effect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;Effect is running!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;Effect is stopped! Cleaning up...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// Your clean-up code here</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">myEffectWithCleanUp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>When <code>myEffectWithCleanUp</code> is called, the clean-up function will be automatically called, letting you tidy things up.</p> <h2 id="untrack-a-signal"><a href="#untrack-a-signal" class="header-anchor">#</a> Untrack a Signal</h2> <p>Wait, there's more! Sometimes, you may want to block a signal from being observed by an effect. üõ°Ô∏è You can use the untrack function to do just that! Simply wrap the signal inside untrack, and the effect won't be triggered by changes in that signal.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> signal<span class="token punctuation">,</span> effect<span class="token punctuation">,</span> untrack <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'estrela'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> myCounter <span class="token operator">=</span> <span class="token function">signal</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">effect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// This effect won't be triggered by changes in myCounter</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">The counter value will be printed only once! Current value: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token function">untrack</span><span class="token punctuation">(</span>myCounter<span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>With untrack, you're in control of what triggers your effects!</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/estrelajs/estrela/edit/main/docs/docs/effects.md" target="_blank" rel="noopener noreferrer">Help us improve documentation!</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ‚Üê
      <a href="/docs/signals.html" class="prev">
        Signals: Reactivity Made Easy
      </a></span> <span class="next"><a href="/docs/template.html">
        Template: Express Yourself with JSX!
      </a>
      ‚Üí
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.69cdb334.js" defer></script><script src="/assets/js/2.48f07087.js" defer></script><script src="/assets/js/13.1c6c967c.js" defer></script>
  </body>
</html>
